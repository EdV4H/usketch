# uSketch 開発ロードマップ

## 📍 現在のステータス

**現在のフェーズ**: Phase 4 (パフォーマンス最適化) ✅ 完了

## 🎯 完了済みのPhase

### Phase 1: スナップ設定基盤 ✅
- スナップ機能の設定UI
- グリッドスナップの実装
- シェイプエッジスナップの実装
- 設定の永続化

### Phase 2: 包括的スナップポイント ✅
- センタースナップ
- コーナースナップ
- エッジ中点スナップ
- スマートガイドの基礎実装

### Phase 3: スマートガイド機能拡張 ✅
- アライメントガイド（垂直・水平）
- 距離ガイド表示
- 等間隔スナップ
- 斜めアライメントガイド

### Phase 4: パフォーマンス最適化 ✅
- スナップ計算の最適化
- 描画パフォーマンスの改善
- メモリ使用量の削減
- 45度スナップ機能の追加

## 🚀 今後の開発計画

### Phase 5: コラボレーション機能の基盤実装
**目的**: リアルタイム協業を可能にする基盤機能の実装

**主な機能**:
- WebRTCまたはWebSocketを使用したリアルタイム同期
- カーソル共有とユーザープレゼンス表示
- 簡単な競合解決メカニズム
- ユーザーアバター表示
- セッション管理とルーム機能

**技術要件**:
- WebSocket/WebRTCインフラ
- CRDT (Conflict-free Replicated Data Types) の検討
- 状態同期プロトコルの設計

---

### Phase 6: プロパティパネルとスタイリング機能 ⭐ 推奨
**目的**: シェイプの外観をカスタマイズする包括的なスタイリング機能

**主な機能**:
- プロパティパネルUI
  - 色選択（塗りつぶし・線）
  - 線幅・線スタイル
  - 透明度設定
  - 角丸設定
  - 影効果
- カラーピッカーの実装
  - プリセットカラー
  - カスタムカラー
  - グラデーション対応
- テキストプロパティ
  - フォント選択
  - サイズ・行間
  - 配置オプション
- スタイル管理
  - スタイルのコピー/ペースト
  - スタイルプリセット
  - テーマ機能

**技術要件**:
- React Color等のカラーピッカーライブラリ
- スタイルスキーマの設計
- UIコンポーネントの拡張

---

### Phase 7: レイヤー管理とグループ化
**目的**: 複雑な図形の整理と管理を可能にする

**主な機能**:
- レイヤーパネル
  - レイヤー一覧表示
  - ドラッグ&ドロップでの並び替え
  - レイヤー名の編集
  - サムネイル表示
- レイヤー操作
  - 表示/非表示の切り替え
  - ロック/アンロック
  - 透明度調整
- グループ機能
  - 選択したシェイプのグループ化
  - グループ解除
  - ネストされたグループのサポート
  - グループ内での編集
- Z-index管理
  - 前面/背面への移動
  - レイヤー順序の細かい制御

**技術要件**:
- レイヤーツリー構造の実装
- 効率的なレンダリング戦略
- グループ選択のUI/UX設計

---

### Phase 8: エクスポート/インポート機能
**目的**: 作成したコンテンツの保存と共有を可能にする

**主な機能**:
- エクスポート形式
  - PNG (透過対応)
  - SVG (ベクター形式)
  - PDF (印刷用)
  - JSON (プロジェクトファイル)
- インポート機能
  - 画像ファイル (PNG, JPEG, GIF)
  - SVGファイル
  - プロジェクトファイル (JSON)
- クリップボード対応
  - シェイプのコピー/カット/ペースト
  - 外部アプリとの連携
- ファイル管理
  - ドラッグ&ドロップでのインポート
  - 自動保存機能
  - バージョン管理

**技術要件**:
- Canvas API/SVGライブラリの活用
- ファイルAPI の実装
- クリップボードAPI の統合

---

### Phase 9: アニメーションとトランジション
**目的**: 動的でインタラクティブなプレゼンテーション機能の追加

**主な機能**:
- シェイプアニメーション
  - 位置・サイズのアニメーション
  - 回転・スケールアニメーション
  - フェードイン/アウト
  - パスアニメーション
- トランジション効果
  - ページ切り替え効果
  - シェイプの出現/消失エフェクト
- タイムライン機能
  - アニメーションシーケンスの作成
  - キーフレームエディタ
  - イージング関数の選択
- プレゼンテーションモード
  - フルスクリーン表示
  - スライドナビゲーション
  - プレゼンター表示

**技術要件**:
- アニメーションライブラリ (Framer Motion等)
- タイムライン管理システム
- パフォーマンス最適化

---

### Phase 10: 高度な描画ツール（将来構想）
**目的**: プロフェッショナル向けの高度な描画機能

**検討中の機能**:
- ベジェ曲線ツール
- パスファインダー機能（結合、切り抜き等）
- グラデーションツール
- パターン塗りつぶし
- カスタムブラシ
- 測定ツール
- 3D変換

---

### Phase 11: AI統合機能（将来構想）
**目的**: AI技術を活用した生産性向上機能

**検討中の機能**:
- 自動レイアウト提案
- 画像からベクター変換
- テキストからダイアグラム生成
- スマートシェイプ認識
- 色彩提案

## 🎯 推奨される次のステップ

**Phase 6: プロパティパネルとスタイリング機能** の実装を推奨します。

**理由**:
1. **ユーザー体験の向上**: 視覚的なカスタマイズはユーザーの満足度を大きく向上させる
2. **既存アーキテクチャの活用**: 現在の形状システムとストア設計を活かせる
3. **独立性**: 他の機能との依存関係が少なく、段階的に実装可能
4. **需要の高さ**: 基本的な描画機能の次に求められる機能
5. **技術的複雑度**: 適度な難易度で、段階的な実装が可能

## 📊 タイムライン（目安）

| Phase | 推定期間 | 優先度 | 依存関係 |
|-------|---------|--------|---------|
| Phase 5 | 3-4週間 | 中 | ネットワーク基盤 |
| Phase 6 | 2-3週間 | 高 | なし |
| Phase 7 | 2-3週間 | 高 | Phase 6推奨 |
| Phase 8 | 2週間 | 中 | なし |
| Phase 9 | 3-4週間 | 低 | Phase 7推奨 |
| Phase 10 | 4-6週間 | 低 | Phase 6,7必須 |
| Phase 11 | 未定 | 低 | API統合 |

## 🔄 更新履歴

- 2025-01-17: 初版作成（Phase 5-9の詳細定義）
- Phase 1-4 完了済み

## 💡 備考

- 各Phaseは独立して実装可能ですが、推奨順序があります
- ユーザーフィードバックに基づいて優先順位は変更される可能性があります
- 技術的な制約により、実装内容が変更される場合があります